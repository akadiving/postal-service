(function(e){function t(t){for(var n,s,i=t[0],c=t[1],l=t[2],u=0,m=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&m.push(o[s][0]),o[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);d&&d(t);while(m.length)m.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},o={app:0},r=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"15a1":function(e,t,a){"use strict";a("3fc1")},"278c":function(e,t,a){},"2bdb":function(e,t,a){"use strict";a("7335")},"3fc1":function(e,t,a){},5033:function(e){e.exports=JSON.parse('[{"country":"Afghanistan"},{"country":"Albania"},{"country":"Algeria"},{"country":"American Samoa"},{"country":"Andorra"},{"country":"Angola"},{"country":"Anguilla"},{"country":"Antarctica"},{"country":"Antigua and Barbuda"},{"country":"Argentina"},{"country":"Armenia"},{"country":"Aruba"},{"country":"Australia"},{"country":"Austria"},{"country":"Azerbaijan"},{"country":"Bahamas"},{"country":"Bahrain"},{"country":"Bangladesh"},{"country":"Barbados"},{"country":"Belarus"},{"country":"Belgium"},{"country":"Belize"},{"country":"Benin"},{"country":"Bermuda"},{"country":"Bhutan"},{"country":"Bolivia"},{"country":"Bosnia and Herzegovina"},{"country":"Botswana"},{"country":"Bouvet Island"},{"country":"Brazil"},{"country":"British Indian Ocean Territory"},{"country":"Brunei"},{"country":"Bulgaria"},{"country":"Burkina Faso"},{"country":"Burundi"},{"country":"Cambodia"},{"country":"Cameroon"},{"country":"Canada"},{"country":"Cape Verde"},{"country":"Cayman Islands"},{"country":"Central African Republic"},{"country":"Chad"},{"country":"Chile"},{"country":"China"},{"country":"Christmas Island"},{"country":"Cocos (Keeling) Islands"},{"country":"Colombia"},{"country":"Comoros"},{"country":"Congo"},{"country":"The Democratic Republic of Congo"},{"country":"Cook Islands"},{"country":"Costa Rica"},{"country":"Ivory Coast"},{"country":"Croatia"},{"country":"Cuba"},{"country":"Cyprus"},{"country":"Czech Republic"},{"country":"Denmark"},{"country":"Djibouti"},{"country":"Dominica"},{"country":"Dominican Republic"},{"country":"East Timor"},{"country":"Ecuador"},{"country":"Egypt"},{"country":"England"},{"country":"El Salvador"},{"country":"Equatorial Guinea"},{"country":"Eritrea"},{"country":"Estonia"},{"country":"Ethiopia"},{"country":"Falkland Islands"},{"country":"Faroe Islands"},{"country":"Fiji Islands"},{"country":"Finland"},{"country":"France"},{"country":"French Guiana"},{"country":"French Polynesia"},{"country":"French Southern territories"},{"country":"Gabon"},{"country":"Gambia"},{"country":"Georgia"},{"country":"Germany"},{"country":"Ghana"},{"country":"Gibraltar"},{"country":"Greece"},{"country":"Greenland"},{"country":"Grenada"},{"country":"Guadeloupe"},{"country":"Guam"},{"country":"Guatemala"},{"country":"Guernsey"},{"country":"Guinea"},{"country":"Guinea-Bissau"},{"country":"Guyana"},{"country":"Haiti"},{"country":"Heard Island and McDonald Islands"},{"country":"Holy See (Vatican City State)"},{"country":"Honduras"},{"country":"Hong Kong"},{"country":"Hungary"},{"country":"Iceland"},{"country":"India"},{"country":"Indonesia"},{"country":"Iran"},{"country":"Iraq"},{"country":"Ireland"},{"country":"Israel"},{"country":"Isle of Man"},{"country":"Italy"},{"country":"Jamaica"},{"country":"Japan"},{"country":"Jersey"},{"country":"Jordan"},{"country":"Kazakhstan"},{"country":"Kenya"},{"country":"Kiribati"},{"country":"Kuwait"},{"country":"Kyrgyzstan"},{"country":"Laos"},{"country":"Latvia"},{"country":"Lebanon"},{"country":"Lesotho"},{"country":"Liberia"},{"country":"Libyan Arab Jamahiriya"},{"country":"Liechtenstein"},{"country":"Lithuania"},{"country":"Luxembourg"},{"country":"Macao"},{"country":"North Macedonia"},{"country":"Madagascar"},{"country":"Malawi"},{"country":"Malaysia"},{"country":"Maldives"},{"country":"Mali"},{"country":"Malta"},{"country":"Marshall Islands"},{"country":"Martinique"},{"country":"Mauritania"},{"country":"Mauritius"},{"country":"Mayotte"},{"country":"Mexico"},{"country":"Micronesia, Federated States of"},{"country":"Moldova"},{"country":"Monaco"},{"country":"Mongolia"},{"country":"Montserrat"},{"country":"Montenegro"},{"country":"Morocco"},{"country":"Mozambique"},{"country":"Myanmar"},{"country":"Namibia"},{"country":"Nauru"},{"country":"Nepal"},{"country":"Netherlands"},{"country":"Netherlands Antilles"},{"country":"New Caledonia"},{"country":"New Zealand"},{"country":"Nicaragua"},{"country":"Niger"},{"country":"Nigeria"},{"country":"Niue"},{"country":"Norfolk Island"},{"country":"North Korea"},{"country":"Northern Ireland"},{"country":"Northern Mariana Islands"},{"country":"Norway"},{"country":"Oman"},{"country":"Pakistan"},{"country":"Palau"},{"country":"Palestine"},{"country":"Panama"},{"country":"Papua New Guinea"},{"country":"Paraguay"},{"country":"Peru"},{"country":"Philippines"},{"country":"Pitcairn"},{"country":"Poland"},{"country":"Portugal"},{"country":"Puerto Rico"},{"country":"Qatar"},{"country":"Reunion"},{"country":"Romania"},{"country":"Russian Federation"},{"country":"Rwanda"},{"country":"Saint Helena"},{"country":"Saint Kitts and Nevis"},{"country":"Saint Lucia"},{"country":"Saint Pierre and Miquelon"},{"country":"Saint Vincent and the Grenadines"},{"country":"Samoa"},{"country":"San Marino"},{"country":"Sao Tome and Principe"},{"country":"Saudi Arabia"},{"country":"Scotland"},{"country":"Senegal"},{"country":"Serbia"},{"country":"Seychelles"},{"country":"Sierra Leone"},{"country":"Singapore"},{"country":"Slovakia"},{"country":"Slovenia"},{"country":"Solomon Islands"},{"country":"Somalia"},{"country":"South Africa"},{"country":"South Georgia and the South Sandwich Islands"},{"country":"South Korea"},{"country":"South Sudan"},{"country":"Spain"},{"country":"Sri Lanka"},{"country":"Sudan"},{"country":"Suriname"},{"country":"Svalbard and Jan Mayen"},{"country":"Swaziland"},{"country":"Sweden"},{"country":"Switzerland"},{"country":"Syria"},{"country":"Tajikistan"},{"country":"Tanzania"},{"country":"Thailand"},{"country":"Timor-Leste"},{"country":"Togo"},{"country":"Tokelau"},{"country":"Tonga"},{"country":"Trinidad and Tobago"},{"country":"Tunisia"},{"country":"Turkey"},{"country":"Turkmenistan"},{"country":"Turks and Caicos Islands"},{"country":"Tuvalu"},{"country":"Uganda"},{"country":"Ukraine"},{"country":"United Arab Emirates"},{"country":"United Kingdom"},{"country":"United States"},{"country":"United States Minor Outlying Islands"},{"country":"Uruguay"},{"country":"Uzbekistan"},{"country":"Vanuatu"},{"country":"Venezuela"},{"country":"Vietnam"},{"country":"Virgin Islands, British"},{"country":"Virgin Islands, U.S."},{"country":"Wales"},{"country":"Wallis and Futuna"},{"country":"Western Sahara"},{"country":"Yemen"},{"country":"Zambia"},{"country":"Zimbabwe"}]')},"53d2":function(e,t,a){"use strict";a("278c")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("transition",{attrs:{mode:"out-in"}},[a("router-view")],1)],1)],1)},r=[],s={name:"App",components:{},data:function(){return{}}},i=s,c=(a("15a1"),a("2877")),l=a("6544"),d=a.n(l),u=a("7496"),m=a("f6c4"),v=Object(c["a"])(i,o,r,!1,null,"49867da0",null),f=v.exports;d()(v,{VApp:u["a"],VMain:m["a"]});var p=a("9483");Object(p["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var g=a("8c4f"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center",attrs:{id:"admin"}},[n("Header",{attrs:{drawer:e.drawer},on:{menu:e.menu}}),n("v-navigation-drawer",{attrs:{app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-sheet",{staticClass:"pa-4",attrs:{color:"grey lighten-4"}},[n("v-avatar",{staticClass:"mb-4",attrs:{color:"blue",size:"64"}},[n("v-icon",{attrs:{dark:"","x-large":""}},[e._v(" mdi-account ")])],1),e.adminName?n("div",[e._v(e._s(e.adminName))]):n("div",[e._v("Admin")])],1),n("v-divider"),n("v-list",{attrs:{rounded:""}},[n("v-list-item",{attrs:{link:""},on:{click:e.logout}},[n("v-list-item-avatar",{attrs:{color:"warning"}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-logout")])],1),n("v-list-item-title",[e._v("გამოსვლა")])],1),n("v-list-item",{on:{click:e.items}},[n("v-list-item-avatar",{attrs:{color:"purple"}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-package-variant-closed")])],1),n("v-list-item-title",[e._v("ამანათები")])],1),n("v-list-item",{on:{click:e.manifest}},[n("v-list-item-avatar",{attrs:{color:"primary"}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-clipboard-list-outline")])],1),n("v-list-item-title",[e._v("მანიფესტები")])],1),n("v-list-item",{on:{click:e.close}},[n("v-list-item-avatar",{attrs:{color:"green"}},[n("v-icon",{attrs:{dark:""}},[e._v("mdi-home-outline")])],1),n("v-list-item-title",[e._v("მთავარი გვერდი")])],1)],1)],1),n("v-container",{attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{justify:"center",align:"center"}},[e.component?e._e():n("v-col",{staticClass:"mt-4",attrs:{cols:"auto",id:"package"}},[n("v-card",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"secondary--text"},expression:"{ class: `secondary--text`}"}],attrs:{height:"230",width:"245",size:"144"},on:{click:e.addItem}},[n("v-avatar",{staticClass:"mt-3",attrs:{size:"144",tile:""}},[n("v-img",{attrs:{src:a("fa5a")}})],1),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"text-h6 text--primary",attrs:{cols:"12"}},[e._v(" ამანათის დამატება ")])],1)],1)],1)],1),e.component?n("v-col",{attrs:{cols:"12"}},[n("transition",{attrs:{name:"fade-transition"}},[n(e.component,{tag:"component",attrs:{manifestID:e.manifestID},on:{closeComponent:e.close,closeItems:e.close,closeManifest:e.close,closeManifestDetail:e.closeManifestDetail,getManifestDetail:e.getManifestDetail}})],1)],1):n("v-col",{staticClass:"mt-4",attrs:{cols:"auto",id:"package"}},[n("v-card",{directives:[{name:"ripple",rawName:"v-ripple",value:{class:"secondary--text"},expression:"{ class: `secondary--text`}"}],attrs:{height:"230",width:"245",size:"144"},on:{click:e.addManifest}},[n("v-avatar",{staticClass:"mt-3",attrs:{size:"144",tile:""}},[n("v-img",{attrs:{src:a("deb9")}})],1),n("v-card-text",[n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"text-h6 text--primary",attrs:{cols:"12"}},[e._v(" მანიფესტის დამატება ")])],1)],1)],1)],1)],1)],1)],1)},h=[],y=(a("b0c0"),a("caad"),a("2532"),a("bc3a")),_=a.n(y),x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{app:"",color:"white",flat:"",light:"",elevation:"1"}},[a("v-btn",{staticClass:"ml-2",attrs:{icon:""},on:{click:e.menu}},[a("v-avatar",{staticClass:"d-flex align-center"},[e.drawer?a("v-icon",{attrs:{"x-large":"",color:"primary"}},[e._v(" mdi-menu-open ")]):e._e(),e.drawer?e._e():a("v-icon",{attrs:{"x-large":"",color:"primary"}},[e._v(" mdi-menu ")])],1)],1),a("v-spacer")],1)},w=[],I={name:"Header",props:["drawer"],components:{},data:function(){return{}},methods:{menu:function(){this.$emit("menu")}}},k=I,C=a("40dc"),S=a("8212"),M=a("8336"),O=a("132d"),B=a("2fa4"),P=Object(c["a"])(k,x,w,!1,null,null,null),D=P.exports;d()(P,{VAppBar:C["a"],VAvatar:S["a"],VBtn:M["a"],VIcon:O["a"],VSpacer:B["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{id:"components",height:"100%"}},[a("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[a("v-toolbar-title",{staticClass:"text-h6 text--primary"},[e._v(" ამანათები ")]),a("v-spacer"),a("v-avatar",[a("v-icon",{attrs:{"x-large":""},on:{click:e.closeItems}},[e._v("mdi-close")])],1)],1),a("v-card-title",{staticStyle:{"{position":"sticky",overflow:"auto"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"ამანათის მოძებნა","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("div",[a("v-data-table",{staticClass:"elevation-0 overflow-y-auto mx-auto",attrs:{headers:e.headers,items:e.items,"fixed-header":"","show-select":"","no-data-text":"მონაცემები არ არსებობს","no-results-text":"მონაცემები ვერ მოიძებნა",search:e.search,loading:e.loadingItems,"multi-sort":"","loading-text":"მონაცემები იტვირთება","show-expand":"","hide-default-footer":"",height:"625px","footer-props":{itemsPerPageOptions:[-1]}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"გამომ. სახელი"},model:{value:e.editedItem.sender_name,callback:function(t){e.$set(e.editedItem,"sender_name",t)},expression:"editedItem.sender_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"გამომ. გვარი"},model:{value:e.editedItem.sender_surname,callback:function(t){e.$set(e.editedItem,"sender_surname",t)},expression:"editedItem.sender_surname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღ. სახელი"},model:{value:e.editedItem.receiver_name,callback:function(t){e.$set(e.editedItem,"receiver_name",t)},expression:"editedItem.receiver_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღ. გვარი"},model:{value:e.editedItem.receiver_surname,callback:function(t){e.$set(e.editedItem,"receiver_surname",t)},expression:"editedItem.receiver_surname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{"item-text":"country","item-value":"country",label:"გამომ. ქვეყანა","background-color":"white",items:e.countries},model:{value:e.editedItem.sender_country,callback:function(t){e.$set(e.editedItem,"sender_country",t)},expression:"editedItem.sender_country"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{"item-text":"country","item-value":"country",label:"მიმღ. ქვეყანა","background-color":"white",items:e.countries},model:{value:e.editedItem.receiver_country,callback:function(t){e.$set(e.editedItem,"receiver_country",t)},expression:"editedItem.receiver_country"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"გამომ. ქალაქი"},model:{value:e.editedItem.sender_city,callback:function(t){e.$set(e.editedItem,"sender_city",t)},expression:"editedItem.sender_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღ. ქალაქი"},model:{value:e.editedItem.receiver_city,callback:function(t){e.$set(e.editedItem,"receiver_city",t)},expression:"editedItem.receiver_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღ. მისამართი"},model:{value:e.editedItem.receiver_address,callback:function(t){e.$set(e.editedItem,"receiver_address",t)},expression:"editedItem.receiver_address"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღების ID"},model:{value:e.editedItem.receiver_id,callback:function(t){e.$set(e.editedItem,"receiver_id",t)},expression:"editedItem.receiver_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღ. ნომერი"},model:{value:e.editedItem.receiver_number,callback:function(t){e.$set(e.editedItem,"receiver_number",t)},expression:"editedItem.receiver_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"წონა"},model:{value:e.editedItem.weight,callback:function(t){e.$set(e.editedItem,"weight",t)},expression:"editedItem.weight"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"ფასი"},model:{value:e.editedItem.price,callback:function(t){e.$set(e.editedItem,"price",t)},expression:"editedItem.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{"item-text":"cc","item-value":"cc",label:"ვალუტა","background-color":"white",items:e.currency,prefix:e.currency.symbol},model:{value:e.editedItem.currency,callback:function(t){e.$set(e.editedItem,"currency",t)},expression:"editedItem.currency"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:e.arrived,label:"ჩამოსულია",hint:"ჩამოსულია","persistent-hint":"","single-line":""},model:{value:e.editedItem.arrived,callback:function(t){e.$set(e.editedItem,"arrived",t)},expression:"editedItem.arrived"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.close}},[e._v(" გაუქმება ")]),a("v-btn",{attrs:{color:"green",outlined:""},on:{click:e.save}},[e._v(" დამახსოვრება ")])],1)],1)],1),a("v-dialog",{attrs:{persistent:"","hide-overlay":"",width:"300"},model:{value:e.barcodeDialog,callback:function(t){e.barcodeDialog=t},expression:"barcodeDialog"}},[a("v-card",{attrs:{color:"white"}},[a("v-card-text",{staticClass:"text-center"},[a("v-progress-circular",{staticClass:"mt-4",attrs:{size:50,color:"amber",indeterminate:""}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6"},[e._v("ნამდვილად გსურთ მონიშნული ამანათის/ამანათების გაუქმება?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",outlined:""},on:{click:e.closeDelete}},[e._v("არა")]),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.deleteItemConfirm}},[e._v("დიახ")]),a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.changeManifest,callback:function(t){e.changeManifest=t},expression:"changeManifest"}},[a("v-card",[a("v-form",{model:{value:e.validManifest,callback:function(t){e.validManifest=t},expression:"validManifest"}},[a("v-card-title",{staticClass:"text-h6"},[e._v("დაამატე ან შეცვალე მანიფესტის ID")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{outlined:"",clearable:"","hide-details":"",required:"","item-text":"manifest_code","item-value":"id",label:"აირჩიეთ მანიფესტის კოდი",items:e.manifestList,dense:""},model:{value:e.newManifest,callback:function(t){e.newManifest=t},expression:"newManifest"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",disabled:!e.validManifest,outlined:""},on:{click:e.changeManifestId}},[e._v("შეცვალე/დაამატე")]),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.closeChangeManifest}},[e._v("გაუქმება")]),a("v-spacer")],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"mr-1",attrs:{medium:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{medium:"",color:"red"},on:{click:function(t){return e.deleteItem(n)}}},[e._v(" mdi-delete ")])]}},{key:"item.document",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"ml-4",attrs:{medium:"",color:"purple"},on:{click:function(t){return e.showBarcode(n.id)}}},[e._v(" mdi-file-document-outline ")])]}},{key:"item.add_manifest",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"ml-4",attrs:{medium:"",color:"green"},on:{click:function(t){return e.showSelected(n)}}},[e._v(" mdi-book-plus-multiple-outline ")])]}},{key:"item.manifest_code",fn:function(t){var n=t.item;return[n.manifest_code?a("v-chip",{attrs:{color:"green",dark:"",outlined:""}},[e._v(" "+e._s(n.manifest_code)+" ")]):a("v-chip",{attrs:{color:"red",dark:""}},[e._v(" N/A ")])]}},{key:"expanded-item",fn:function(t){var n=t.item;return[a("v-container",[a("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",{attrs:{colspan:e.headers.length}},[a("tr",[a("th",{staticClass:"text-left"},[e._v(" ფასი ")]),a("th",{staticClass:"text-left"},[e._v(" ვალუტა ")]),a("th",{staticClass:"text-left"},[e._v(" წონა ")]),a("th",{staticClass:"text-left"},[e._v(" აღწერა ")]),a("th",{staticClass:"text-left"},[e._v(" ავტორი ")]),a("th",{staticClass:"text-left"},[e._v(" კომპანია ")])])]),a("tbody",[a("tr",[a("td",{staticClass:"text-left"},[e._v(" "+e._s(n.price)+" ")]),a("td",{staticClass:"text-left"},[e._v(" "+e._s(n.currency)+" ")]),a("td",{staticClass:"text-left"},[e._v(" "+e._s((n.weight/1e3).toFixed(2))+" კგ ")]),a("td",{staticClass:"text-left"},[e._v(" "+e._s(n.description)+" ")]),a("td",{staticClass:"text-left"},[e._v(" "+e._s(n.owner)+" ")]),a("td",{staticClass:"text-left"},[e._v(" "+e._s(n.company)+" ")])])])]},proxy:!0}],null,!0)})],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-pagination",{attrs:{length:e.totalItems/20,circle:""},on:{next:e.next,previous:e.previous},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)],1)},A=[],$=a("1da1"),T=a("2909"),L=(a("96cf"),a("159b"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("2b3d"),a("a434"),a("5033")),R=a("f7ea"),N={name:"Items",data:function(){return{countries:L,currency:R,newManifest:"",errorM:"",selected:[],validManifest:!1,newSelected:[],manifestList:[],selectedManifest:"",search:"",nextPage:"",previousPage:"",page:1,arrived:[{text:"კი",value:!0},{text:"არა",value:!1}],pdfsrc:null,loadingItems:!0,selectItem:"",selectEditItem:"",dialogDelete:!1,dialog:!1,barcodeDialog:!1,changeManifest:!1,headers:[{text:"ID",align:"start",filterable:!1,value:"id"},{text:"ბარკოდი",value:"barcode"},{text:"მანიფესტის კოდი",value:"manifest_code"},{text:"გამ. სახელი",value:"sender_name"},{text:"გამ. გვარი",value:"sender_surname"},{text:"მიმღ. სახელი",value:"receiver_name"},{text:"მიმღ. გვარი",value:"receiver_surname"},{text:"მიმღ. ქალაქი",value:"receiver_city"},{text:"მიმღების ID",value:"receiver_id"},{text:"შეცვლა",value:"actions",sortable:!1},{text:"ინვოისი",value:"document",sortable:!1},{text:"მანიფესტში დამ.",value:"add_manifest"},{text:"",value:"data-table-expand"}],items:[],totalItems:"",editedIndex:-1,editedItem:{company:"",sender_name:"",sender_surname:"",sender_country:"",sender_city:"",receiver_name:"",receiver_surname:"",receiver_id:"",receiver_country:"",receiver_city:"",receiver_address:"",receiver_number:"",weight:"",price:"",currency:"",in_manifest:"",arrived:"",manifest_number:""},defaultItem:{company:"",sender_name:"",sender_surname:"",sender_country:"",sender_city:"",receiver_name:"",receiver_surname:"",receiver_id:"",receiver_country:"",receiver_city:"",receiver_address:"",receiver_number:"",weight:"",price:"",currency:"",in_manifest:"",arrived:"",manifest_number:""}}},watch:{search:function(e){this.itemSearch(e)},dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},computed:{formTitle:function(){return-1===this.editedIndex?"ამანათის დამატება":"ამანათის მონაცემების შეცვლა"},manifestValidation:function(){return this.newManifest?this.validManifest=!0:this.validManifest=!1}},methods:{itemSearch:function(e){var t=this,a=JSON.parse(sessionStorage.getItem("access")),n="http://127.0.0.1:8000/items/search/?=".concat(e),o={method:"GET",baseURL:n,headers:{Authorization:"Bearer "+a.value}};_()(o).then((function(e){console.log(e),t.items=e.data.results,t.totalItems=e.data.count,t.nextPage=e.data.next,t.previousPage=e.data.previous,t.loadingItems=!1})).catch((function(e){console.log(e),"Given token not valid for any token type"==e.response.data.detail?(t.errorM="გთხოვთ თავიდან შეიყვანოთ მონაცემები",t.logout()):"User is inactive"==e.response.data.detail?(t.errorM="თქვენ არ გაქვთ შესვლის უფლება",t.logout()):t.errorM=e.response.data.detail,t.$toast.error(t.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},next:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="".concat(this.nextPage),n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.items=t.data.results,e.totalItems=t.data.count,e.nextPage=t.data.next,e.previousPage=t.data.previous,e.loadingItems=!1})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"==t.response.data.detail&&e.logout()}))},previous:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="".concat(this.previousPage),n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.items=t.data.results,e.totalItems=t.data.count,e.nextPage=t.data.next,e.previousPage=t.data.previous,e.loadingItems=!1})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"==t.response.data.detail&&e.logout()}))},editItem:function(e){this.editedIndex=this.items.indexOf(e),console.log(this.editedItem),this.editedItem=Object.assign({},e),this.dialog=!0,this.selectEditItem=e.id,console.log(this.editedItem)},deleteItem:function(e){var t=this;this.editedIndex=this.items.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0,this.selectItem=e.id,this.newSelected=[],this.selected.push(e),this.selected.forEach((function(e){t.newSelected.push(e.id)})),this.newSelected=Object(T["a"])(new Set(this.newSelected)),console.log(this.newSelected),this.selected=[]},showBarcode:function(e){var t=this;return Object($["a"])(regeneratorRuntime.mark((function a(){var n,o,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.barcodeDialog=!0,n=JSON.parse(sessionStorage.getItem("access")),o="http://127.0.0.1:8000/items/generate-pdf/".concat(e),r={method:"GET",baseURL:o,timeout:1e4,responseType:"blob",headers:{Authorization:"Bearer "+n.value}},a.next=6,_()(r).then((function(e){console.log(e);var a=new Blob([e.data],{type:"application/pdf"}),n=URL.createObjectURL(a);t.pdfsrc=n;var o=window.open();o.location.href=n,t.barcodeDialog=!1})).catch((function(e){console.log(e),t.$toast.error(e.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}));case 6:case"end":return a.stop()}}),a)})))()},deleteItemConfirm:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/items/bulk-delete/",n={method:"DELETE",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value},data:{id:this.newSelected}};_()(n).then((function(t){console.log(t),e.items.splice(e.editedIndex,1),e.closeDelete(),e.$toast.success("ამანათი გაუქმებულია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.newSelected=[],e.selected=[]})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"==t.response.data.detail&&e.logout()}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeChangeManifest:function(){var e=this;this.changeManifest=!1,this.$nextTick((function(){e.newSelected=[],e.selected=[]}))},save:function(){var e=this;console.log(this.editedItem),delete this.editedItem["barcode_image"],delete this.editedItem["manifest_code"];var t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/items/update/".concat(this.selectEditItem),n={method:"PATCH",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value},data:this.editedItem};_()(n).then((function(t){console.log(t),e.itemSearch(),e.close(),e.$toast.success("ამანათი შეცვლილია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"==t.response.data.detail&&e.logout()}))},closeItems:function(){this.$emit("closeItems")},logout:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/logout/",{refresh_token:sessionStorage.getItem("refresh")}).then((function(t){console.log(t),sessionStorage.clear(),e.loginPage()})).catch((function(e){console.log(e)}))},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},showSelected:function(e){var t=this;this.manifestId(),this.changeManifest=!0,this.newSelected=[],this.selected.push(e),this.selected.forEach((function(e){t.newSelected.push(e.id)})),this.newSelected=Object(T["a"])(new Set(this.newSelected)),console.log(this.newSelected),this.selected=[]},changeManifestId:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/items/update-manifest/",n={method:"PATCH",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value},data:{id:this.newSelected,manifest:this.newManifest}};console.log(n.data),_()(n).then((function(t){console.log(t),e.itemSearch(),e.changeManifest=!1,e.$toast.success("მანიფესტი შეცვლილია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.newSelected=[],e.selected=[]})).catch((function(t){console.log(t),"Given token not valid for any token type"==t.response.data.detail&&(e.$toast.error("გთხოვთ თავიდან შეხვიდეთ მართვის პანელში",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.logout()),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},manifestId:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/manifest/search/?=",n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.manifestList=t.data.results,e.manifestList.unshift({manifest_code:"არცერთი",id:null})})).catch((function(t){console.log(t),"Given token not valid for any token type"==t.response.data.detail&&(e.$toast.error("გთხოვთ თავიდან შეხვიდეთ მართვის პანელში",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.logout()),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))}},mounted:function(){this.itemSearch()}},H=N,F=(a("2bdb"),a("c6a6")),G=a("b0af"),E=a("99d9"),U=a("cc20"),K=a("62ad"),z=a("a523"),j=a("8fea"),J=a("169a"),Z=a("4bd4"),q=a("891e"),W=a("490a"),Y=a("0fd9"),Q=a("b974"),X=a("1f4f"),ee=a("8654"),te=a("71d9"),ae=a("2a7f"),ne=Object(c["a"])(H,V,A,!1,null,"b71d11f2",null),oe=ne.exports;d()(ne,{VAppBar:C["a"],VAutocomplete:F["a"],VAvatar:S["a"],VBtn:M["a"],VCard:G["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VChip:U["a"],VCol:K["a"],VContainer:z["a"],VDataTable:j["a"],VDialog:J["a"],VForm:Z["a"],VIcon:O["a"],VPagination:q["a"],VProgressCircular:W["a"],VRow:Y["a"],VSelect:Q["a"],VSimpleTable:X["a"],VSpacer:B["a"],VTextField:ee["a"],VToolbar:te["a"],VToolbarTitle:ae["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{height:"100%"}},[a("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[a("v-toolbar-title",{staticClass:"text-h6 text--primary"},[e._v(" მანიფესტები ")]),a("v-spacer"),a("v-avatar",[a("v-icon",{attrs:{"x-large":""},on:{click:e.closeManifest}},[e._v("mdi-close")])],1)],1),a("v-card-title",{staticStyle:{"{position":"sticky",overflow:"auto"}},[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"მანიფესტის მოძებნა","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-0 overflow-y-auto mx-auto",attrs:{headers:e.headers,items:e.manifest,"fixed-header":"","no-data-text":"მონაცემები არ არსებობს","no-results-text":"მონაცემები ვერ მოიძებნა",search:e.search,"multi-sort":"","hide-default-footer":"",loading:e.loadingManifest,"loading-text":"მონაცემები იტვირთება",height:"625px","footer-props":{itemsPerPageOptions:[-1]}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"გამომ. ქალაქი"},model:{value:e.editedItem.sender_city,callback:function(t){e.$set(e.editedItem,"sender_city",t)},expression:"editedItem.sender_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღ. ქალაქი"},model:{value:e.editedItem.receiver_city,callback:function(t){e.$set(e.editedItem,"receiver_city",t)},expression:"editedItem.receiver_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"CMR კოდი"},model:{value:e.editedItem.cmr,callback:function(t){e.$set(e.editedItem,"cmr",t)},expression:"editedItem.cmr"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მანქანის ნომერი"},model:{value:e.editedItem.car_number,callback:function(t){e.$set(e.editedItem,"car_number",t)},expression:"editedItem.car_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მძღოლის სახელი"},model:{value:e.editedItem.driver_name,callback:function(t){e.$set(e.editedItem,"driver_name",t)},expression:"editedItem.driver_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მძღოლის გვარი"},model:{value:e.editedItem.driver_surname,callback:function(t){e.$set(e.editedItem,"driver_surname",t)},expression:"editedItem.driver_surname"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.close}},[e._v(" გაუქმება ")]),a("v-btn",{attrs:{color:"green",outlined:""},on:{click:e.save}},[e._v(" დამახსოვრება ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6"},[e._v("ნამდვილად გსურთ ამანათის გაუქმება?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",outlined:""},on:{click:e.closeDelete}},[e._v("არა")]),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.deleteItemConfirm}},[e._v("დიახ")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.total_weight",fn:function(t){var n=t.item;return[a("p",[e._v(" "+e._s((n.total_weight/1e3).toFixed(2))+" კგ ")])]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{medium:"",color:"primary"},on:{click:function(t){return e.editItem(n)}}},"v-icon",r,!1),o),[e._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[e._v("მანიფესტის მონაცემების შეცვლა")])]),a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(t){return e.deleteItem(n)}}},"v-icon",r,!1),o),[e._v(" mdi-delete ")])]}}],null,!0)},[a("span",[e._v("ამანათის წაშლა მანიფესტიდან")])])]}},{key:"item.details",fn:function(t){var n=t.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"purple"},on:{click:function(t){return e.getManifestDetail(n.id)}}},"v-icon",r,!1),o),[e._v(" mdi-information-outline ")])]}}],null,!0)},[a("span",[e._v("მანიფესტის დეტალები")])])]}}])}),a("v-pagination",{attrs:{length:e.totalManifests/20,circle:""},on:{next:e.next,previous:e.previous},model:{value:e.page,callback:function(t){e.page=t},expression:"page"}})],1)},se=[],ie={name:"Manifest",data:function(){return{search:"",totalManifests:"",errorM:"",nextPage:"",previousPage:"",page:1,selectManifest:"",selectEditItem:"",dialogDelete:!1,dialog:!1,itemHeaders:[{text:"ID",align:"start",filterable:!1,value:"id"},{text:"ბარკოდი",value:"barcode"},{text:"ავტორი",value:"owner"},{text:"მანიფესტის #",value:"manifest_number_id"},{text:"კომპანია",value:"company"},{text:"გამ. ქალაქი",value:"sender_city"},{text:"მიმღების ID",value:"receiver_id"}],headers:[{text:"ID",align:"start",filterable:!1,value:"id"},{text:"თარიღი",value:"created_at"},{text:"მანქ. ნომერი",value:"car_number"},{text:"ავტორი",value:"owner"},{text:"მანიფესტის კოდი",value:"manifest_code"},{text:"გამ. ქალაქი",value:"sender_city"},{text:"მიმღ. ქალაქი",value:"receiver_city"},{text:"ამანათების რაოდ.",value:"total_items"},{text:"სულ წონა",value:"total_weight"},{text:"შეცვლა",value:"actions",sortable:!1},{text:"სრულად ნახვა",value:"details",sortable:!1}],manifest:[],loadingManifest:!0,editedIndex:-1,editedItem:{sender_city:"",receiver_city:"",driver_name:"",driver_surname:"",car_number:"",cmr:""},defaultItem:{sender_city:"",receiver_city:"",driver_name:"",driver_surname:"",car_number:"",cmr:""}}},watch:{search:function(e){this.manifestSearch(e)},dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},computed:{formTitle:function(){return-1===this.editedIndex?"მანიფესტის დამატება":"მანიფესტის მონაცემების შეცვლა"}},methods:{manifestSearch:function(e){var t=this,a=JSON.parse(sessionStorage.getItem("access")),n="http://127.0.0.1:8000/manifest/search/?=".concat(e),o={method:"GET",baseURL:n,timeout:5e3,headers:{Authorization:"Bearer "+a.value}};_()(o).then((function(e){console.log(e),t.manifest=e.data.results,t.loadingManifest=!1,console.log(e.data.results[0].items)})).catch((function(e){console.log(e),"Given token not valid for any token type"==e.response.data.detail?(t.errorM="გთხოვთ თავიდან შეიყვანოთ მონაცემები",t.logout()):"User is inactive"==e.response.data.detail?(t.errorM="თქვენ არ გაქვთ შესვლის უფლება",t.logout()):t.errorM=e.response.data.detail,t.$toast.error(t.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},next:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="".concat(this.nextPage),n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.manifest=t.data.results,e.totalManifests=t.data.count,e.nextPage=t.data.next,e.previousPage=t.data.previous,e.loadingManifest=!1})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"!=t.response.data.detail&&"User is inactive"!=t.response.data.detail||e.logout()}))},previous:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="".concat(this.previousPage),n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.manifest=t.data.results,e.totalManifests=t.data.count,e.nextPage=t.data.next,e.previousPage=t.data.previous,e.loadingManifest=!1})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"!=t.response.data.detail&&"User is inactive"!=t.response.data.detail||e.logout()}))},editItem:function(e){this.editedIndex=this.manifest.indexOf(e),console.log(this.editedItem),this.editedItem=Object.assign({},e),this.dialog=!0,this.selectEditItem=e.id,console.log(this.editedItem)},getManifestDetail:function(e){this.$emit("getManifestDetail",e)},deleteItem:function(e){this.editedIndex=this.manifest.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0,this.selectManifest=e.id},deleteItemConfirm:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/manifest/delete/".concat(this.selectManifest),n={method:"DELETE",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.manifest.splice(e.editedIndex,1),e.closeDelete(),e.$toast("მანიფესტი გაუქმებულია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},save:function(){var e=this;console.log(this.editedItem);var t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/manifest/update/".concat(this.selectEditItem),n={method:"PATCH",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value},data:this.editedItem};_()(n).then((function(t){console.log(t),e.editedIndex>-1?Object.assign(e.manifest[e.editedIndex],e.editedItem):e.manifest.push(e.editedItem),e.close(),e.$toast.success("მანიფესტი შეცვლილია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!0,closeButton:"button",icon:!0,rtl:!1})})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},closeManifest:function(){this.$emit("closeManifest")},logout:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/logout/",{refresh_token:sessionStorage.getItem("refresh")}).then((function(t){console.log(t),sessionStorage.clear(),e.loginPage()})).catch((function(e){console.log(e)}))},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))}},mounted:function(){this.manifestSearch()}},ce=ie,le=a("3a2f"),de=Object(c["a"])(ce,re,se,!1,null,null,null),ue=de.exports;d()(de,{VAppBar:C["a"],VAvatar:S["a"],VBtn:M["a"],VCard:G["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VCol:K["a"],VContainer:z["a"],VDataTable:j["a"],VDialog:J["a"],VIcon:O["a"],VPagination:q["a"],VRow:Y["a"],VSpacer:B["a"],VTextField:ee["a"],VToolbar:te["a"],VToolbarTitle:ae["a"],VTooltip:le["a"]});var me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{elevation:"1"}},[a("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[a("v-toolbar-title",{staticClass:"text-h6 text--primary"},[e._v(" ამანათის დამატება ")]),a("v-spacer"),a("v-avatar",[a("v-icon",{attrs:{"x-large":""},on:{click:e.closeComponent}},[e._v("mdi-close")])],1)],1),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-icon",{attrs:{large:"",color:"purple"}},[e._v(" mdi-card-account-details-outline ")]),a("v-card-title",[e._v(" მიმღები და გამომგზავნი პირის ინფორმაცია ")]),a("v-row",{attrs:{justify:"start",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"გამომგზავნის სახელი",required:"",clearable:"",outlined:""},model:{value:e.newItem.sender_name,callback:function(t){e.$set(e.newItem,"sender_name",t)},expression:"newItem.sender_name"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"გამომგზავნის გვარი",required:"",clearable:"",outlined:""},model:{value:e.newItem.sender_surname,callback:function(t){e.$set(e.newItem,"sender_surname",t)},expression:"newItem.sender_surname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღების სახელი",clearable:"",outlined:""},model:{value:e.newItem.receiver_name,callback:function(t){e.$set(e.newItem,"receiver_name",t)},expression:"newItem.receiver_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღების გვარი",clearable:"",outlined:""},model:{value:e.newItem.receiver_surname,callback:function(t){e.$set(e.newItem,"receiver_surname",t)},expression:"newItem.receiver_surname"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღების ID",clearable:"",outlined:""},model:{value:e.newItem.receiver_id,callback:function(t){e.$set(e.newItem,"receiver_id",t)},expression:"newItem.receiver_id"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღების ტელ.ნომერი",rules:e.receiverNumberRules,clearable:"","prepend-inner-icon":"mdi-phone",outlined:""},model:{value:e.newItem.receiver_number,callback:function(t){e.$set(e.newItem,"receiver_number",t)},expression:"newItem.receiver_number"}})],1)],1),a("v-divider"),a("v-icon",{attrs:{large:"",color:"purple"}},[e._v(" mdi-earth ")]),a("v-card-title",[e._v(" მისამართი ")]),a("v-row",{attrs:{justify:"start",align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{outlined:"",clearable:"",required:"","item-text":"country","item-value":"country",label:"გამომგზავნი ქვეყანა","background-color":"white",items:e.countries},model:{value:e.newItem.sender_country,callback:function(t){e.$set(e.newItem,"sender_country",t)},expression:"newItem.sender_country"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{outlined:"",clearable:"",required:"","item-text":"country","item-value":"country",label:"მიმღები ქვეყანა","background-color":"white",items:e.countries},model:{value:e.newItem.receiver_country,callback:function(t){e.$set(e.newItem,"receiver_country",t)},expression:"newItem.receiver_country"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"გამომგზავნი ქალაქი",clearable:"",outlined:""},model:{value:e.newItem.sender_city,callback:function(t){e.$set(e.newItem,"sender_city",t)},expression:"newItem.sender_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღები ქალაქი",clearable:"",outlined:""},model:{value:e.newItem.receiver_city,callback:function(t){e.$set(e.newItem,"receiver_city",t)},expression:"newItem.receiver_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მიმღების მისამართი",clearable:"",outlined:""},model:{value:e.newItem.receiver_address,callback:function(t){e.$set(e.newItem,"receiver_address",t)},expression:"newItem.receiver_address"}})],1)],1),a("v-divider"),a("v-icon",{attrs:{large:"",color:"purple"}},[e._v(" mdi-package-variant-closed ")]),a("v-card-title",[e._v(" ამანათის ზოგადი ინფორმაცია ")]),a("v-row",{attrs:{justify:"start",align:"center"}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"წონა კგ.",rules:e.weightRules,clearable:"","background-color":"white",outlined:"","prepend-inner-icon":"mdi-weight-kilogram"},model:{value:e.newItem.weight,callback:function(t){e.$set(e.newItem,"weight",t)},expression:"newItem.weight"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"ფასი",rules:e.priceRules,"background-color":"white","prepend-inner-icon":"mdi-cash",clearable:"",outlined:""},model:{value:e.newItem.price,callback:function(t){e.$set(e.newItem,"price",t)},expression:"newItem.price"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{outlined:"",clearable:"",required:"","item-text":"cc","item-value":"cc",label:"ვალუტა","background-color":"white",items:e.currency,prefix:e.currency.symbol},model:{value:e.newItem.currency,callback:function(t){e.$set(e.newItem,"currency",t)},expression:"newItem.currency"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-autocomplete",{attrs:{outlined:"",clearable:"","hide-details":"","background-color":"white",required:"","item-text":"manifest_code","item-value":"id",label:"აირჩიეთ მანიფესტის კოდი",items:e.manifestList},model:{value:e.newItem.manifest_number,callback:function(t){e.$set(e.newItem,"manifest_number",t)},expression:"newItem.manifest_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"დამ. ინფორმაცია",value:"ამანათის დამატებითი ინფორმაცია..","auto-grow":"",clearable:"",outlined:"","background-color":"white",counter:500},model:{value:e.newItem.description,callback:function(t){e.$set(e.newItem,"description",t)},expression:"newItem.description"}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ma-2",attrs:{color:"deep-purple",outlined:"",disabled:!e.valid}},"v-btn",o,!1),n),[e._v(" შენახვა ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("შეამოწმეთ ამანათის მონაცემები დამატებამდე")])]),a("v-card-text",[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{value:e.newItem.sender_name,label:"გამომგზავნის სახელი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{value:e.newItem.sender_surname,label:"გამომგზავნის გვარი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_name,label:"მიმღების სახელი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_surname,label:"მიმღების გვარი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.sender_country,label:"გამომგზავნი ქვეყანა",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_id,label:"მიმღების ID",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_number,label:"მიმღების ტელ.ნომერი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.sender_country,label:"გამომგზავნი ქვეყანა",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_country,label:"მიმღები ქვეყანა",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.sender_city,label:"გამომგზავნი ქალაქი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_city,label:"მიმღები ქალაქი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.receiver_address,label:"მიმღების მისამართი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.weight,label:"წონა კგ.",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.price,label:"ფასი",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.currency,label:"ვალუტა",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{value:e.newItem.manifest_number,label:"მანიფესტის ID",readonly:""}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-textarea",{attrs:{label:"დამ. ინფორმაცია",value:e.newItem.description,"auto-grow":"",readonly:""}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.close}},[e._v(" გაუქმება ")]),a("v-btn",{attrs:{color:"green",outlined:""},on:{click:e.addItem}},[e._v(" დამახსოვრება ")])],1)],1)],1)],1)]],2)],1)},ve=[],fe={name:"AddItem",components:{},data:function(){return{valid:!1,dialog:!1,newItem:{sender_name:"",sender_surname:"",sender_country:"",sender_city:"",receiver_name:"",receiver_surname:"",receiver_id:"",receiver_country:"",receiver_city:"",receiver_address:"",receiver_number:"",weight:"",price:"",currency:"",in_manifest:"",manifest_number:null,description:""},manifestList:[],currency:R,countries:L,nameRules:[function(e){return!!e||"გთხოვთ შეიყვანოთ სახელი"},function(e){return e.length<=150||"გთხოვთ შეამოკლოდ სახელი"}],email:"",weightRules:[function(e){return/^-?\d*\.?\d*$/.test(e)||"გთხოვთ შეიყვანოთ მხოლოდ რიცხვები"}],priceRules:[function(e){return/^-?\d*\.?\d*$/.test(e)||"გთხოვთ შეიყვანოთ მხოლოდ რიცხვები"}],receiverNumberRules:[function(e){return/^\d+$/.test(e)||"გთხოვთ სწორად შეიყვანოთ ტელეფონის ნომერი"}]}},methods:{addItem:function(){var e=this;console.log(this.newItem);var t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/items/add/",n={method:"POST",baseURL:a,timeout:5e3,data:this.newItem,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.$toast.success("ამანათი დამატებულია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.dialog=!1})).catch((function(t){console.log(t),"Given token not valid for any token type"==t.response.data.detail?(e.errorM="გთხოვთ თავიდან შეიყვანოთ მონაცემები",e.logout()):"User is inactive"==t.response.data.detail?(e.errorM="თქვენ არ გაქვთ შესვლის უფლება",e.logout()):e.errorM="დაფიქსირდა შეცდომა, გთხოვთ სცადეთ თავიდან",e.$toast.error(e.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.dialog=!1}))},close:function(){this.dialog=!1},closeComponent:function(){this.$emit("closeComponent")},logout:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/logout/",{refresh_token:sessionStorage.getItem("refresh")}).then((function(t){console.log(t),sessionStorage.clear(),e.loginPage()})).catch((function(e){console.log(e)}))},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},manifestId:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/manifest/search/?=",n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.manifestList=t.data.results,e.manifestList.unshift({manifest_code:"არცერთი",id:null})})).catch((function(t){console.log(t),"Given token not valid for any token type"==t.response.data.detail&&(e.$toast.error("გთხოვთ თავიდან შეხვიდეთ მართვის პანელში",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.logout()),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))}},mounted:function(){this.manifestId(),console.log(this.currency)}},pe=fe,ge=a("ce7e"),be=a("a844"),he=Object(c["a"])(pe,me,ve,!1,null,"24fef2cc",null),ye=he.exports;d()(he,{VAppBar:C["a"],VAutocomplete:F["a"],VAvatar:S["a"],VBtn:M["a"],VCard:G["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VCol:K["a"],VContainer:z["a"],VDialog:J["a"],VDivider:ge["a"],VForm:Z["a"],VIcon:O["a"],VRow:Y["a"],VSpacer:B["a"],VTextField:ee["a"],VTextarea:be["a"],VToolbarTitle:ae["a"]});var _e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{elevation:"1"}},[a("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[a("v-toolbar-title",{staticClass:"text-h6 text--primary"},[e._v(" მანიფესტის დამატება ")]),a("v-spacer"),a("v-avatar",[a("v-icon",{attrs:{"x-large":""},on:{click:e.closeComponent}},[e._v("mdi-close")])],1)],1),a("v-form",{model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{justify:"start",align:"center"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-autocomplete",{staticClass:"elevation-0",attrs:{outlined:"",clearable:"",required:"","item-text":"country","item-value":"country",label:"გამომგზავნი ქალაქი","background-color":"white",items:e.cities,"prepend-inner-icon":"mdi-home-city"},model:{value:e.newManifest.receiver_country,callback:function(t){e.$set(e.newManifest,"receiver_country",t)},expression:"newManifest.receiver_country"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"მიმღები ქალაქი",required:"",outlined:"","prepend-inner-icon":"mdi-home-city",clearable:""},model:{value:e.newManifest.receiver_city,callback:function(t){e.$set(e.newManifest,"receiver_city",t)},expression:"newManifest.receiver_city"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"CMR კოდი",required:"",outlined:"","prepend-inner-icon":"mdi-code-equal",clearable:""},model:{value:e.newManifest.cmr,callback:function(t){e.$set(e.newManifest,"cmr",t)},expression:"newManifest.cmr"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{rules:e.receiverNumberRules,label:"მანქანის ნომერი",required:"",outlined:"","prepend-inner-icon":"mdi-car",clearable:""},model:{value:e.newManifest.car_number,callback:function(t){e.$set(e.newManifest,"car_number",t)},expression:"newManifest.car_number"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მძროლის სახელი",required:"",outlined:"","prepend-inner-icon":"mdi-account",clearable:""},model:{value:e.newManifest.driver_name,callback:function(t){e.$set(e.newManifest,"driver_name",t)},expression:"newManifest.driver_name"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მძღოლის გვარი",required:"",outlined:"","prepend-inner-icon":"mdi-account",clearable:""},model:{value:e.newManifest.driver_surname,callback:function(t){e.$set(e.newManifest,"driver_surname",t)},expression:"newManifest.driver_surname"}})],1)],1)],1)],1),a("v-divider"),a("v-card-actions",[[a("div",{staticClass:"text-center"},[a("v-dialog",{attrs:{width:"500"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"ma-2",attrs:{color:"deep-purple",outlined:"",disabled:!e.valid}},"v-btn",o,!1),n),[e._v(" შენახვა ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("შეამოწმეთ მონაცემები დამატებამდე")])]),a("v-card-text",[a("v-container",[a("v-row",{attrs:{justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"გამომგზავნი ქალაქი",readonly:""},model:{value:e.newManifest.sender_city,callback:function(t){e.$set(e.newManifest,"sender_city",t)},expression:"newManifest.sender_city"}})],1),a("v-col",{attrs:{cols:"12",md:"4",sm:"6"}},[a("v-text-field",{attrs:{label:"მიმღები ქალაქი",readonly:""},model:{value:e.newManifest.receiver_city,callback:function(t){e.$set(e.newManifest,"receiver_city",t)},expression:"newManifest.receiver_city"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"CMR კოდი",readonly:""},model:{value:e.newManifest.cmr,callback:function(t){e.$set(e.newManifest,"cmr",t)},expression:"newManifest.cmr"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"მანქანის ნომერი",readonly:""},model:{value:e.newManifest.car_number,callback:function(t){e.$set(e.newManifest,"car_number",t)},expression:"newManifest.car_number"}})],1)],1)],1)],1),a("v-divider",{staticClass:"mb-4"}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.close}},[e._v(" გაუქმება ")]),a("v-btn",{attrs:{color:"green",outlined:""},on:{click:e.addManifest}},[e._v(" დამახსოვრება ")])],1)],1)],1)],1)]],2)],1)},xe=[],we={name:"AddManifest",components:{},data:function(){return{valid:!1,dialog:!1,cities:[],errorM:"",newManifest:{sender_city:"",receiver_city:"",cmr:"",car_number:"",driver_name:"",driver_surname:""},nameRules:[function(e){return!!e||"გთხოვთ შეიყვანოთ სახელი"},function(e){return e.length<=150||"გთხოვთ შეამოკლოდ სახელი"}],weightRules:[function(e){return/^-?\d*\.?\d*$/.test(e)||"გთხოვთ შეიყვანოთ მხოლოდ რიცხვები"}],priceRules:[function(e){return/^-?\d*\.?\d*$/.test(e)||"გთხოვთ შეიყვანოთ მხოლოდ რიცხვები"}],receiverNumberRules:[function(e){return/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/.test(e)||"გთხოვთ სწორად შეიყვანოთ მანქანის ნომერი"}]}},computed:{},watch:{cities:function(e){this.getCities(e)}},methods:{addManifest:function(){var e=this;console.log(this.newItem);var t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/manifest/add/",n={method:"POST",baseURL:a,timeout:5e3,data:this.newManifest,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.$toast.success("მანიფესტი დამატებულია",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.dialog=!1})).catch((function(t){console.log(t),"Given token not valid for any token type"==t.response.data.detail?(e.errorM="გთხოვთ თავიდან შეიყვანოთ მონაცემები",e.logout()):"User is inactive"==t.response.data.detail?(e.errorM="თქვენ არ გაქვთ შესვლის უფლება",e.logout()):e.errorM=t.response.data.detail,e.$toast.error(e.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.dialog=!1}))},close:function(){this.dialog=!1},closeComponent:function(){this.$emit("closeComponent")},logout:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/logout/",{refresh_token:sessionStorage.getItem("refresh")}).then((function(t){console.log(t),sessionStorage.clear(),e.loginPage()})).catch((function(e){console.log(e)}))},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},getCities:function(){var e="https://countriesnow.space/api/v0.1/countries",t={method:"GET",baseURL:e,timeout:5e3};_()(t).then((function(e){console.log(e.data)}))}},mounted:function(){}},Ie=we,ke=Object(c["a"])(Ie,_e,xe,!1,null,"e90c912c",null),Ce=ke.exports;d()(ke,{VAppBar:C["a"],VAutocomplete:F["a"],VAvatar:S["a"],VBtn:M["a"],VCard:G["a"],VCardActions:E["a"],VCardText:E["b"],VCardTitle:E["c"],VCol:K["a"],VContainer:z["a"],VDialog:J["a"],VDivider:ge["a"],VForm:Z["a"],VIcon:O["a"],VRow:Y["a"],VSpacer:B["a"],VTextField:ee["a"],VToolbarTitle:ae["a"]});var Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-app-bar",{attrs:{flat:"",color:"rgba(0, 0, 0, 0)"}},[a("v-card-title",[a("span",{staticClass:"text-h6"},[e._v("მანიფესტის დეტალები")])]),a("v-spacer"),a("v-btn",{attrs:{icon:""}},[a("v-icon",{attrs:{"x-large":""},on:{click:e.closeManifestDetail}},[e._v("mdi-close")])],1)],1),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"start",dense:""}},[a("v-col",{attrs:{cols:"auto"}},[a("v-list",[a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"purple"}},[e._v(" mdi-pound ")])],1),e._v(" მანიფესტის ID - "+e._s(e.manifest.id)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"purple"}},[e._v(" mdi-account ")])],1),e._v(" მანიფესტის ავტორი - "+e._s(e.manifest.owner)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{left:"",medium:"",color:"purple"}},[e._v(" mdi-calendar-clock ")])],1),e._v(" შეიქმნა - "+e._s(e.manifest.created_at)+" ")],1)],1)],1)],1),a("v-col",{attrs:{cols:"auto"}},[a("v-list",[a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-home-city-outline ")])],1),e._v(" გამომგზავნი ქალაქი - "+e._s(e.manifest.sender_city)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"green"}},[e._v(" mdi-home-city-outline ")])],1),e._v(" მიმღები ქალაქი - "+e._s(e.manifest.receiver_city)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-barcode-scan ")])],1),e._v(" მანიფესტის კოდი - "+e._s(e.manifest.manifest_code)+" ")],1)],1)],1)],1),a("v-col",{attrs:{cols:"auto"}},[a("v-list",[a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-car ")])],1),e._v(" მანქანის ნომერი - "+e._s(e.manifest.car_number)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-account ")])],1),e._v(" მძღოლის სახელი - "+e._s(e.manifest.driver_name)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-account ")])],1),e._v(" მძღოლის გვარი - "+e._s(e.manifest.driver_surname)+" ")],1)],1)],1)],1),a("v-col",{attrs:{cols:"auto"}},[a("v-list",[a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-package-variant-closed ")])],1),e._v(" ამანათების რაოდენობა - "+e._s(e.manifest.total_items)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"red"}},[e._v(" mdi-code-braces ")])],1),e._v(" CMR კოდი - "+e._s(e.manifest.cmr)+" ")],1)],1),a("v-list-item",[a("v-chip",{staticClass:"ma-2",attrs:{outlined:"",label:"",large:""}},[a("v-avatar",{attrs:{left:""}},[a("v-icon",{attrs:{medium:"",color:"primary"}},[e._v(" mdi-weight-kilogram ")])],1),e._v(" სულ წონა - "+e._s((e.manifest.total_weight/1e3).toFixed(2))+" კგ ")],1)],1)],1)],1)],1)],1),a("v-card-title",{staticClass:"ml-4"},[a("span",{staticClass:"text-h6"},[e._v("ამანათები მანიფესტში")])]),a("v-data-table",{staticClass:"elevation-1 overflow-y-auto mx-auto",attrs:{headers:e.headers,items:e.items,"fixed-header":"","multi-sort":"","no-data-text":"მონაცემები არ არსებობს","no-results-text":"მონაცემები ვერ მოიძებნა",search:e.search,loading:e.loadingItems,"loading-text":"მონაცემები იტვირთება","show-expand":"",height:"625px","hide-default-footer":"","footer-props":{itemsPerPageOptions:[-1]}},scopedSlots:e._u([{key:"item.actions",fn:function(t){var n=t.item;return[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,r=t.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"red"},on:{click:function(t){return e.deleteItem(n)}}},"v-icon",r,!1),o),[e._v(" mdi-delete ")])]}}],null,!0)},[a("span",[e._v("მანიფესტის წაშლა მანიფესტიდან")])])]}},{key:"item.document",fn:function(t){var n=t.item;return[a("v-icon",{staticClass:"ml-4",attrs:{medium:"",color:"purple"},on:{click:function(t){return e.showBarcode(n.id)}}},[e._v(" mdi-file-document-outline ")])]}},{key:"item.manifest_number",fn:function(t){var n=t.item;return[n.manifest_number?a("v-chip",{attrs:{color:"green",dark:"",outlined:""}},[e._v(" "+e._s(n.manifest_code)+" ")]):a("v-chip",{attrs:{color:"red",dark:""}},[e._v(" N/A ")])]}},{key:"expanded-item",fn:function(t){t.item;return[a("td",{attrs:{colspan:e.headers.length}})]}}])}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h6"},[e._v("ნამდვილად გსურთ მონიშნული ამანათის/ამანათების წაშლა მანიფესტიდან?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",outlined:""},on:{click:e.closeDelete}},[e._v("არა")]),a("v-btn",{attrs:{color:"red",outlined:""},on:{click:e.removeItem}},[e._v("დიახ")]),a("v-spacer")],1)],1)],1)],1)},Me=[],Oe={name:"ManifestDetail",components:{},props:["manifestID"],data:function(){return{manifest:{},loadingItems:!0,dialogDelete:!1,errorM:"",selectItem:"",items:[],search:"",headers:[{text:"ID",align:"start",filterable:!1,value:"id"},{text:"ბარკოდი",value:"barcode"},{text:"ავტორი",value:"owner"},{text:"მანიფესტის კოდი",value:"manifest_number"},{text:"კომპანია",value:"company"},{text:"გამ. ქალაქი",value:"sender_city"},{text:"მიმღების ID",value:"receiver_id"},{text:"წაშლა",value:"actions",sortable:!1},{text:"ინვოისი",value:"document",sortable:!1},{text:"",value:"data-table-expand"}]}},methods:{getManifest:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/manifest/".concat(this.manifestID),n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),e.manifest=t.data,e.items=t.data.items,e.loadingItems=!1,console.log(t.data.items)})).catch((function(t){console.log(t),e.$toast.error(t.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"==t.response.data.detail&&e.logout()}))},removeItem:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/items/update/".concat(this.selectItem),n={method:"PATCH",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value},data:{manifest_number:null}};_()(n).then((function(t){console.log(t),e.$toast.success("ამანათი ამოღებულია მანიფესტიდან",{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),e.getManifest(),e.dialogDelete=!1})).catch((function(t){console.log(t),"Given token not valid for any token type"==t.response.data.detail?(e.errorM="გთხოვთ თავიდან შეიყვანოთ მონაცემები",e.logout()):"User is inactive"==t.response.data.detail?(e.errorM="თქვენ არ გაქვთ შესვლის უფლება",e.logout()):e.errorM=t.response.data.detail,e.$toast.error(e.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},showBarcode:function(e){var t=this,a=JSON.parse(sessionStorage.getItem("access")),n="http://127.0.0.1:8000/items/generate-pdf/".concat(e),o={method:"GET",baseURL:n,timeout:5e3,responseType:"blob",headers:{Authorization:"Bearer "+a.value}};_()(o).then((function(e){console.log(e);var a=new Blob([e.data],{type:"application/pdf"}),n=URL.createObjectURL(a);t.pdfsrc=n;var o=window.open();o.location.href=n})).catch((function(e){console.log(e),t.$toast.error(e.response.data.detail,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"==e.response.data.detail&&t.logout()}))},closeManifestDetail:function(){this.$emit("closeManifestDetail")},logout:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/logout/",{refresh_token:sessionStorage.getItem("refresh")}).then((function(t){console.log(t),sessionStorage.clear(),e.loginPage()})).catch((function(e){console.log(e)}))},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},deleteItem:function(e){this.dialogDelete=!0,this.selectItem=e.id,this.newSelected=[]},closeDelete:function(){this.dialogDelete=!1,this.newSelected=""}},mounted:function(){this.getManifest()}},Be=Oe,Pe=a("8860"),De=a("da13"),Ve=Object(c["a"])(Be,Se,Me,!1,null,null,null),Ae=Ve.exports;d()(Ve,{VAppBar:C["a"],VAvatar:S["a"],VBtn:M["a"],VCard:G["a"],VCardActions:E["a"],VCardTitle:E["c"],VChip:U["a"],VCol:K["a"],VContainer:z["a"],VDataTable:j["a"],VDialog:J["a"],VIcon:O["a"],VList:Pe["a"],VListItem:De["a"],VRow:Y["a"],VSpacer:B["a"],VTooltip:le["a"]});var $e=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Te=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-loader"},[a("div",{staticClass:"cube-1"}),a("div",{staticClass:"cube-2"}),a("div",{staticClass:"cube-3"}),a("div",{staticClass:"cube-4"})])}],Le={name:"Preloader",data:function(){return{}},mounted:function(){}},Re=Le,Ne=(a("53d2"),Object(c["a"])(Re,$e,Te,!1,null,"e8b0565a",null)),He=Ne.exports,Fe={name:"Admin",props:{},components:{Header:D,Items:oe,Manifest:ue,AddItem:ye,ManifestDetail:Ae,AddManifest:Ce,Preloader:He},data:function(){return{adminName:"",errorM:"",admin:!1,password:"",email:"",validLogin:!0,passwordRules:[function(e){return!!e||"Password is required"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+\..+/.test(e)||"E-mail must be valid"}],drawer:null,loadTable:!0,component:"",manifestID:""}},methods:{logout:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/logout/",{refresh_token:sessionStorage.getItem("refresh")}).then((function(t){console.log(t),sessionStorage.clear(),e.loginPage()})).catch((function(e){console.log(e)}))},setWithExpiry:function(e,t,a){var n=new Date,o={value:t,expire:n.getTime()+a};sessionStorage.setItem(e,JSON.stringify(o))},getWithExpire:function(e){var t=sessionStorage.getItem(e);if(!t)return null;var a=JSON.parse(t),n=new Date;return n.getTime()>a.expire?(sessionStorage.removeItem(e),null):a.value},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},manifestListPage:function(){st.push({path:"/manifest"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},items:function(){"Items"!==this.component?this.component="Items":this.component=""},manifest:function(){"Manifest"!==this.component?this.component="Manifest":this.component=""},addItem:function(){"AddItem"!==this.component?this.component="AddItem":this.component=""},addManifest:function(){"AddManifest"!==this.component?this.component="AddManifest":this.component=""},ManifestDetail:function(){"ManifestDetail"!==this.component?this.component="ManifestDetail":this.component=""},getManifestDetail:function(e){this.manifestID=e,this.ManifestDetail()},menu:function(){this.drawer=!this.drawer},close:function(){this.component=""},closeManifestDetail:function(){this.manifest()},preload:function(){var e=this;this.component="Preloader",setTimeout((function(){e.component=""}),1e3)},getUser:function(){var e=this,t=JSON.parse(sessionStorage.getItem("access")),a="http://127.0.0.1:8000/users/me/",n={method:"GET",baseURL:a,timeout:5e3,headers:{Authorization:"Bearer "+t.value}};_()(n).then((function(t){console.log(t),sessionStorage.setItem("company_name",t.data.company_name),e.adminName=sessionStorage.getItem("company_name")})).catch((function(t){e.errorM=t.response.data.detail,e.$toast.error(e.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1}),"Given token not valid for any token type"!=t.response.data.detail&&"User is inactive"!=t.response.data.detail||e.logout()}))}},mounted:function(){document.title="მართვის პანელი",this.getWithExpire("access")||this.loginPage(),this.getUser()}},Ge=Fe,Ee=(a("e0bd"),a("adda")),Ue=a("8270"),Ke=a("5d23"),ze=a("f774"),je=a("8dd9"),Je=a("269a"),Ze=a.n(Je),qe=a("5607"),We=Object(c["a"])(Ge,b,h,!1,null,"512e74dc",null),Ye=We.exports;d()(We,{VAvatar:S["a"],VCard:G["a"],VCardText:E["b"],VCol:K["a"],VContainer:z["a"],VDivider:ge["a"],VIcon:O["a"],VImg:Ee["a"],VList:Pe["a"],VListItem:De["a"],VListItemAvatar:Ue["a"],VListItemTitle:Ke["b"],VNavigationDrawer:ze["a"],VRow:Y["a"],VSheet:je["a"]}),Ze()(We,{Ripple:qe["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{"fill-height":"",fluid:""}},[a("v-row",{attrs:{justify:"center",align:"center"}},[a("v-col",{attrs:{cols:"12",xs:"12",sm:"8",md:"8",lg:"6",xl:"6"}},[a("v-card",{attrs:{elevation:"6"}},[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-row",[a("v-col",{attrs:{cols:"auto"}},[a("v-toolbar-title",[e._v("მართვის პანელში შესვლა")])],1),a("v-spacer"),a("v-col",{attrs:{cols:"auto"}},[a("v-icon",{attrs:{"x-large":"",dark:""}},[e._v("mdi-account-circle-outline")])],1)],1)],1),a("v-form",{model:{value:e.validLogin,callback:function(t){e.validLogin=t},expression:"validLogin"}},[a("v-container",{staticClass:"justify-center"},[a("v-row",{attrs:{justify:"center",align:"center",dense:""}},[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.emailRules,placeholder:"ელ.ფოსტის მისამართი",name:"email","prepend-inner-icon":"mdi-account",clearable:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{rules:e.passwordRules,name:"password",placeholder:"პაროლი","prepend-inner-icon":"mdi-lock","append-icon":e.showPassword?"mdi-eye":"mdi-eye-off",clearable:"",type:e.showPassword?"text":"password",required:""},on:{"click:append":function(t){e.showPassword=!e.showPassword},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"auto"}},[a("v-btn",{attrs:{color:"primary",block:"",dark:""},on:{click:e.login}},[e._v(" შესვლა ")])],1)],1)],1)],1)],1)],1)],1)],1)},Xe=[],et={name:"AdminLogin",data:function(){return{alert:null,errorM:"",loading:!1,showPassword:!1,password:"",email:"",validLogin:!0,passwordRules:[function(e){return!!e||"გთხოვთ შეიყვანოთ პაროლი"}],emailRules:[function(e){return!!e||"გთხოვთ შეიყვანოთ ელ.ფოსტის მისამართი"},function(e){return/.+@.+\..+/.test(e)||"ელ.ფოსტის მისამართი უნდა შეესაბამებოდეს ნამდვილს"}]}},methods:{login:function(){var e=this;_.a.post("http://127.0.0.1:8000/api/token/",{email:this.email,password:this.password}).then((function(t){sessionStorage.setItem("access",t.data.access),sessionStorage.setItem("refresh",t.data.refresh),e.setWithExpiry("access",t.data.access,72e5),e.adminPage()})).catch((function(t){"No active account found with the given credentials"==t.response.data.detail||"User is inactive"==t.response.data.detail?e.errorM="თქვენ არ გაქვთ შესვლის უფლება":401==t.response.status?e.errorM="შეყვანილი ელ.ფოსტის მისამართი ან პაროლი არასწორია":e.errorM=t.response.data.detail,e.$toast.error(e.errorM,{position:"bottom-left",timeout:5e3,closeOnClick:!0,pauseOnFocusLoss:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1})}))},adminPage:function(){st.push({path:"/"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},loginPage:function(){st.push({path:"/login"}).catch((function(e){"NavigationDuplicated"===e.name||e.message.includes("Avoided redundant navigation to current location")||console.log(e)}))},setWithExpiry:function(e,t,a){var n=new Date,o={value:t,expire:n.getTime()+a};sessionStorage.setItem(e,JSON.stringify(o))},getWithExpire:function(e){var t=localStorage.getItem(e);if(!t)return null;var a=JSON.parse(t),n=new Date;return n.getTime()>a.expire?(localStorage.removeItem(e),null):a.value}},mounted:function(){document.title="შესვლა",this.getWithExpire("access")&&this.adminPage()}},tt=et,at=Object(c["a"])(tt,Qe,Xe,!1,null,"4beda9c9",null),nt=at.exports;d()(at,{VBtn:M["a"],VCard:G["a"],VCol:K["a"],VContainer:z["a"],VForm:Z["a"],VIcon:O["a"],VRow:Y["a"],VSpacer:B["a"],VTextField:ee["a"],VToolbar:te["a"],VToolbarTitle:ae["a"]}),n["a"].use(g["a"]);var ot=[{path:"/",name:"Admin",component:Ye},{path:"/login",name:"Login",component:nt}],rt=new g["a"]({mode:"history",base:"/",routes:ot}),st=rt,it=a("2f62");n["a"].use(it["a"]);var ct=new it["a"].Store({state:{accessToken:null,refreshToken:null},mutations:{updateStorage:function(e,t){var a=t.access,n=t.refresh;e.accessToken=a,e.refreshToken=n}},actions:{userLogin:function(e,t){_.a.post("http://127.0.0.1:8000/api/token",{email:t.email,password:t.password}).then((function(t){e.commit("updateStorage",{access:t.data.access,refresh:t.data.refresh})}))}},modules:{}}),lt=a("f309");n["a"].use(lt["a"]);var dt=new lt["a"]({}),ut=a("6c42"),mt=(a("da96"),a("d21d")),vt=a.n(mt);n["a"].use(vt.a);var ft={transition:"Vue-Toastification__fade",maxToasts:5,newestOnTop:!0};n["a"].use(ut["a"],ft),n["a"].config.productionTip=!1,new n["a"]({router:st,store:ct,vuetify:dt,render:function(e){return e(f)}}).$mount("#app")},6845:function(e,t,a){},7335:function(e,t,a){},deb9:function(e,t,a){e.exports=a.p+"img/list-svgrepo-com.4b607f2c.svg"},e0bd:function(e,t,a){"use strict";a("6845")},f7ea:function(e){e.exports=JSON.parse('[{"cc":"AED","symbol":"د.إ;","name":"UAE dirham"},{"cc":"AFN","symbol":"Afs","name":"Afghan afghani"},{"cc":"ALL","symbol":"L","name":"Albanian lek"},{"cc":"AMD","symbol":"AMD","name":"Armenian dram"},{"cc":"ANG","symbol":"NAƒ","name":"Netherlands Antillean gulden"},{"cc":"AOA","symbol":"Kz","name":"Angolan kwanza"},{"cc":"ARS","symbol":"$","name":"Argentine peso"},{"cc":"AUD","symbol":"$","name":"Australian dollar"},{"cc":"AWG","symbol":"ƒ","name":"Aruban florin"},{"cc":"AZN","symbol":"AZN","name":"Azerbaijani manat"},{"cc":"BAM","symbol":"KM","name":"Bosnia and Herzegovina konvertibilna marka"},{"cc":"BBD","symbol":"Bds$","name":"Barbadian dollar"},{"cc":"BDT","symbol":"৳","name":"Bangladeshi taka"},{"cc":"BGN","symbol":"BGN","name":"Bulgarian lev"},{"cc":"BHD","symbol":".د.ب","name":"Bahraini dinar"},{"cc":"BIF","symbol":"FBu","name":"Burundi franc"},{"cc":"BMD","symbol":"BD$","name":"Bermudian dollar"},{"cc":"BND","symbol":"B$","name":"Brunei dollar"},{"cc":"BOB","symbol":"Bs.","name":"Bolivian boliviano"},{"cc":"BRL","symbol":"R$","name":"Brazilian real"},{"cc":"BSD","symbol":"B$","name":"Bahamian dollar"},{"cc":"BTN","symbol":"Nu.","name":"Bhutanese ngultrum"},{"cc":"BWP","symbol":"P","name":"Botswana pula"},{"cc":"BYR","symbol":"Br","name":"Belarusian ruble"},{"cc":"BZD","symbol":"BZ$","name":"Belize dollar"},{"cc":"CAD","symbol":"$","name":"Canadian dollar"},{"cc":"CDF","symbol":"F","name":"Congolese franc"},{"cc":"CHF","symbol":"Fr.","name":"Swiss franc"},{"cc":"CLP","symbol":"$","name":"Chilean peso"},{"cc":"CNY","symbol":"¥","name":"Chinese/Yuan renminbi"},{"cc":"COP","symbol":"Col$","name":"Colombian peso"},{"cc":"CRC","symbol":"₡","name":"Costa Rican colon"},{"cc":"CUC","symbol":"$","name":"Cuban peso"},{"cc":"CVE","symbol":"Esc","name":"Cape Verdean escudo"},{"cc":"CZK","symbol":"Kč","name":"Czech koruna"},{"cc":"DJF","symbol":"Fdj","name":"Djiboutian franc"},{"cc":"DKK","symbol":"Kr","name":"Danish krone"},{"cc":"DOP","symbol":"RD$","name":"Dominican peso"},{"cc":"DZD","symbol":"د.ج","name":"Algerian dinar"},{"cc":"EEK","symbol":"KR","name":"Estonian kroon"},{"cc":"EGP","symbol":"£","name":"Egyptian pound"},{"cc":"ERN","symbol":"Nfa","name":"Eritrean nakfa"},{"cc":"ETB","symbol":"Br","name":"Ethiopian birr"},{"cc":"EUR","symbol":"€","name":"European Euro"},{"cc":"FJD","symbol":"FJ$","name":"Fijian dollar"},{"cc":"FKP","symbol":"£","name":"Falkland Islands pound"},{"cc":"GBP","symbol":"£","name":"British pound"},{"cc":"GEL","symbol":"GEL","name":"Georgian lari"},{"cc":"GHS","symbol":"GH₵","name":"Ghanaian cedi"},{"cc":"GIP","symbol":"£","name":"Gibraltar pound"},{"cc":"GMD","symbol":"D","name":"Gambian dalasi"},{"cc":"GNF","symbol":"FG","name":"Guinean franc"},{"cc":"GQE","symbol":"CFA","name":"Central African CFA franc"},{"cc":"GTQ","symbol":"Q","name":"Guatemalan quetzal"},{"cc":"GYD","symbol":"GY$","name":"Guyanese dollar"},{"cc":"HKD","symbol":"HK$","name":"Hong Kong dollar"},{"cc":"HNL","symbol":"L","name":"Honduran lempira"},{"cc":"HRK","symbol":"kn","name":"Croatian kuna"},{"cc":"HTG","symbol":"G","name":"Haitian gourde"},{"cc":"HUF","symbol":"Ft","name":"Hungarian forint"},{"cc":"IDR","symbol":"Rp","name":"Indonesian rupiah"},{"cc":"ILS","symbol":"₪","name":"Israeli new sheqel"},{"cc":"INR","symbol":"₹","name":"Indian rupee"},{"cc":"IQD","symbol":"د.ع","name":"Iraqi dinar"},{"cc":"IRR","symbol":"IRR","name":"Iranian rial"},{"cc":"ISK","symbol":"kr","name":"Icelandic króna"},{"cc":"JMD","symbol":"J$","name":"Jamaican dollar"},{"cc":"JOD","symbol":"JOD","name":"Jordanian dinar"},{"cc":"JPY","symbol":"¥","name":"Japanese yen"},{"cc":"KES","symbol":"KSh","name":"Kenyan shilling"},{"cc":"KGS","symbol":"сом","name":"Kyrgyzstani som"},{"cc":"KHR","symbol":"៛","name":"Cambodian riel"},{"cc":"KMF","symbol":"KMF","name":"Comorian franc"},{"cc":"KPW","symbol":"W","name":"North Korean won"},{"cc":"KRW","symbol":"W","name":"South Korean won"},{"cc":"KWD","symbol":"KWD","name":"Kuwaiti dinar"},{"cc":"KYD","symbol":"KY$","name":"Cayman Islands dollar"},{"cc":"KZT","symbol":"T","name":"Kazakhstani tenge"},{"cc":"LAK","symbol":"KN","name":"Lao kip"},{"cc":"LBP","symbol":"£","name":"Lebanese lira"},{"cc":"LKR","symbol":"Rs","name":"Sri Lankan rupee"},{"cc":"LRD","symbol":"L$","name":"Liberian dollar"},{"cc":"LSL","symbol":"M","name":"Lesotho loti"},{"cc":"LTL","symbol":"Lt","name":"Lithuanian litas"},{"cc":"LVL","symbol":"Ls","name":"Latvian lats"},{"cc":"LYD","symbol":"LD","name":"Libyan dinar"},{"cc":"MAD","symbol":"MAD","name":"Moroccan dirham"},{"cc":"MDL","symbol":"MDL","name":"Moldovan leu"},{"cc":"MGA","symbol":"FMG","name":"Malagasy ariary"},{"cc":"MKD","symbol":"MKD","name":"Macedonian denar"},{"cc":"MMK","symbol":"K","name":"Myanma kyat"},{"cc":"MNT","symbol":"₮","name":"Mongolian tugrik"},{"cc":"MOP","symbol":"P","name":"Macanese pataca"},{"cc":"MRO","symbol":"UM","name":"Mauritanian ouguiya"},{"cc":"MUR","symbol":"Rs","name":"Mauritian rupee"},{"cc":"MVR","symbol":"Rf","name":"Maldivian rufiyaa"},{"cc":"MWK","symbol":"MK","name":"Malawian kwacha"},{"cc":"MXN","symbol":"$","name":"Mexican peso"},{"cc":"MYR","symbol":"RM","name":"Malaysian ringgit"},{"cc":"MZM","symbol":"MTn","name":"Mozambican metical"},{"cc":"NAD","symbol":"N$","name":"Namibian dollar"},{"cc":"NGN","symbol":"₦","name":"Nigerian naira"},{"cc":"NIO","symbol":"C$","name":"Nicaraguan córdoba"},{"cc":"NOK","symbol":"kr","name":"Norwegian krone"},{"cc":"NPR","symbol":"NRs","name":"Nepalese rupee"},{"cc":"NZD","symbol":"NZ$","name":"New Zealand dollar"},{"cc":"OMR","symbol":"OMR","name":"Omani rial"},{"cc":"PAB","symbol":"B./","name":"Panamanian balboa"},{"cc":"PEN","symbol":"S/.","name":"Peruvian nuevo sol"},{"cc":"PGK","symbol":"K","name":"Papua New Guinean kina"},{"cc":"PHP","symbol":"₱","name":"Philippine peso"},{"cc":"PKR","symbol":"Rs.","name":"Pakistani rupee"},{"cc":"PLN","symbol":"zł","name":"Polish zloty"},{"cc":"PYG","symbol":"₲","name":"Paraguayan guarani"},{"cc":"QAR","symbol":"QR","name":"Qatari riyal"},{"cc":"RON","symbol":"L","name":"Romanian leu"},{"cc":"RSD","symbol":"din.","name":"Serbian dinar"},{"cc":"RUB","symbol":"R","name":"Russian ruble"},{"cc":"SAR","symbol":"SR","name":"Saudi riyal"},{"cc":"SBD","symbol":"SI$","name":"Solomon Islands dollar"},{"cc":"SCR","symbol":"SR","name":"Seychellois rupee"},{"cc":"SDG","symbol":"SDG","name":"Sudanese pound"},{"cc":"SEK","symbol":"kr","name":"Swedish krona"},{"cc":"SGD","symbol":"S$","name":"Singapore dollar"},{"cc":"SHP","symbol":"£","name":"Saint Helena pound"},{"cc":"SLL","symbol":"Le","name":"Sierra Leonean leone"},{"cc":"SOS","symbol":"Sh.","name":"Somali shilling"},{"cc":"SRD","symbol":"$","name":"Surinamese dollar"},{"cc":"SYP","symbol":"LS","name":"Syrian pound"},{"cc":"SZL","symbol":"E","name":"Swazi lilangeni"},{"cc":"THB","symbol":"฿","name":"Thai baht"},{"cc":"TJS","symbol":"TJS","name":"Tajikistani somoni"},{"cc":"TMT","symbol":"m","name":"Turkmen manat"},{"cc":"TND","symbol":"DT","name":"Tunisian dinar"},{"cc":"TRY","symbol":"TRY","name":"Turkish new lira"},{"cc":"TTD","symbol":"TT$","name":"Trinidad and Tobago dollar"},{"cc":"TWD","symbol":"NT$","name":"New Taiwan dollar"},{"cc":"TZS","symbol":"TZS","name":"Tanzanian shilling"},{"cc":"UAH","symbol":"UAH","name":"Ukrainian hryvnia"},{"cc":"UGX","symbol":"USh","name":"Ugandan shilling"},{"cc":"USD","symbol":"US$","name":"United States dollar"},{"cc":"UYU","symbol":"$U","name":"Uruguayan peso"},{"cc":"UZS","symbol":"UZS","name":"Uzbekistani som"},{"cc":"VEB","symbol":"Bs","name":"Venezuelan bolivar"},{"cc":"VND","symbol":"₫","name":"Vietnamese dong"},{"cc":"VUV","symbol":"VT","name":"Vanuatu vatu"},{"cc":"WST","symbol":"WS$","name":"Samoan tala"},{"cc":"XAF","symbol":"CFA","name":"Central African CFA franc"},{"cc":"XCD","symbol":"EC$","name":"East Caribbean dollar"},{"cc":"XDR","symbol":"SDR","name":"Special Drawing Rights"},{"cc":"XOF","symbol":"CFA","name":"West African CFA franc"},{"cc":"XPF","symbol":"F","name":"CFP franc"},{"cc":"YER","symbol":"YER","name":"Yemeni rial"},{"cc":"ZAR","symbol":"R","name":"South African rand"},{"cc":"ZMK","symbol":"ZK","name":"Zambian kwacha"},{"cc":"ZWR","symbol":"Z$","name":"Zimbabwean dollar"}]')},fa5a:function(e,t,a){e.exports=a.p+"img/package-box-svgrepo-com.f965f4d0.svg"}});
//# sourceMappingURL=app.ed8f7724.js.map